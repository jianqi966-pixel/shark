<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026 ËÉΩÈáèÈáçÁªÑÂÆûÈ™åÂÆ§</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;700&display=swap');
        body { background-color: #030712; margin: 0; overflow: hidden; font-family: 'JetBrains Mono', monospace; -webkit-tap-highlight-color: transparent; }
        .diamond-glow { filter: drop-shadow(0 0 30px rgba(96, 165, 250, 0.7)); animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
        .glass-panel { background: rgba(15, 23, 42, 0.9); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.08); box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); }
        .typing-effect { border-right: 2px solid #60a5fa; white-space: pre-wrap; animation: blink 0.75s step-end infinite; }
        @keyframes blink { from, to { border-color: transparent } 50% { border-color: #60a5fa } }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const App = () => {
            const [step, setStep] = useState(0);
            const [isRunning, setIsRunning] = useState(false);
            const [progress, setProgress] = useState(0);
            const [status, setStatus] = useState("SYSTEM READY");
            const [aiMessage, setAiMessage] = useState("");
            const [isAiLoading, setIsAiLoading] = useState(false);
            const apiKey = ""; // ËøêË°åÊó∂Ëá™Âä®Â°´ÂÖÖ

            const fetchGeminiFortune = async () => {
                setIsAiLoading(true);
                const systemPrompt = "‰Ω†ÊòØ‰∏Ä‰∏™ÊûÅÁÆÄ‰∏ª‰πâÁöÑAIÂÆûÈ™åÂÆ§Âä©ÁêÜ„ÄÇÁîüÊàê‰∏ÄÂè•ÂÖ≥‰∫é2026Âπ¥Êñ∞Âπ¥Â•ΩËøêÁöÑÂØÑËØ≠„ÄÇË¶ÅÊ±ÇÔºöÊûÅÁÆÄ„ÄÅÂÖÖÊª°Êµ™Êº´ÊÑü„ÄÅ15Â≠ó‰ª•ÂÜÖ„ÄÇ‰æãÂ¶ÇÔºö'2026 Êñ∞ÁöÑ‰∏ÄÂπ¥Â∑≤‰∏∫‰Ω†ÂéªÈô§ÈúâËøê„ÄÇ'Ôºå'Ê£ÄÊµãÂà∞2026Âπ¥ÁöÑÂπ∏ËøêÂ≥∞ÂÄº„ÄÇ'";
                const userQuery = "ÁîüÊàê‰∏ÄÊù°2026Âπ¥Êñ∞Âπ¥Â•ΩËøêËÑâÂÜ≤„ÄÇ";

                const fetchWithRetry = async (retries = 5, delay = 1000) => {
                    try {
                        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                            method: "POST",
                            headers: { "Content-Type": "application/json" },
                            body: JSON.stringify({
                                contents: [{ parts: [{ text: userQuery }] }],
                                systemInstruction: { parts: [{ text: systemPrompt }] }
                            })
                        });
                        const data = await response.json();
                        return data.candidates?.[0]?.content?.parts?.[0]?.text;
                    } catch (error) {
                        if (retries > 0) {
                            await new Promise(r => setTimeout(r, delay));
                            return fetchWithRetry(retries - 1, delay * 2);
                        }
                        throw error;
                    }
                };

                try {
                    const message = await fetchWithRetry();
                    setAiMessage(message);
                } catch (e) {
                    setAiMessage("2026 ÂøÖÊúâÂ•Ω‰∫ãÂèëÁîü„ÄÇ");
                } finally {
                    setIsAiLoading(false);
                }
            };

            const startRefinery = async () => {
                if (isRunning) return;
                setIsRunning(true);
                setStep(0);
                setProgress(0);
                setAiMessage("");
                
                const stages = ["SCANNING", "PRESSURIZING", "RECONFIGURING", "PURIFYING", "STABILIZING", "CRYSTALLIZING", "COMPLETED"];
                for (let i = 1; i <= 7; i++) {
                    setStatus(stages[i-1]);
                    await new Promise(r => setTimeout(r, 600));
                    setStep(i);
                    setProgress((i / 7) * 100);
                    if (i === 7) {
                        window.confetti({ particleCount: 150, spread: 80, origin: { y: 0.6 }, colors: ['#60a5fa', '#ffffff'] });
                        fetchGeminiFortune();
                    }
                }
                setIsRunning(false);
            };

            return (
                <div className="min-h-screen flex items-center justify-center p-6 bg-[#030712]">
                    <div className="w-full max-w-sm glass-panel rounded-[3rem] p-10 relative">
                        <div className="flex justify-between items-start mb-12">
                            <div>
                                <h1 className="text-blue-500 font-bold text-xs tracking-[0.3em] mb-1 uppercase">Lab Status</h1>
                                <div className="flex items-center space-x-2">
                                    <div className={`w-1.5 h-1.5 rounded-full ${isRunning ? 'bg-blue-500 animate-ping' : 'bg-green-500'}`}></div>
                                    <span className="text-[10px] opacity-40 font-mono tracking-widest">{status}</span>
                                </div>
                            </div>
                            <div className="text-[24px] opacity-20 hover:opacity-100 transition-opacity">‚ö°</div>
                        </div>

                        <div className="bg-white/[0.02] rounded-[2.5rem] py-16 mb-8 border border-white/5 flex flex-col items-center justify-center relative">
                            <div className={`text-8xl mb-8 transition-all duration-1000 ${step === 7 ? 'diamond-glow scale-110' : 'scale-75 opacity-20 grayscale'}`}>
                                {step === 7 ? 'üíé' : '‚å¨'}
                            </div>
                            <h2 className="text-xl font-bold tracking-[0.1em] text-white">
                                {step === 7 ? "2026 GLITTERING" : "2025 CRUSHING"}
                            </h2>
                            
                            {step === 7 && (
                                <div className="mt-8 px-6 w-full text-center">
                                    <p className="text-sm text-blue-100 font-light italic leading-relaxed typing-effect">
                                        {isAiLoading ? "Ê≠£Âú®ÊÑüÂ∫îÊú™Êù•..." : aiMessage}
                                    </p>
                                </div>
                            )}
                        </div>

                        <div className="mb-10">
                            <div className="flex justify-between mb-3 text-[10px] font-mono tracking-widest opacity-40">
                                <span>RECONSTRUCTION PROGRESS</span>
                                <span>{Math.round(progress)}%</span>
                            </div>
                            <div className="h-0.5 bg-white/5 rounded-full overflow-hidden">
                                <div className="h-full bg-blue-500 transition-all duration-500" style={{ width: `${progress}%` }}></div>
                            </div>
                        </div>

                        <button 
                            onClick={startRefinery} 
                            disabled={isRunning}
                            className="w-full py-5 rounded-2xl bg-white text-black font-bold text-[10px] uppercase tracking-[0.3em] transition-all active:scale-[0.98] hover:bg-blue-50 disabled:bg-white/10 disabled:text-white/20"
                        >
                            {isRunning ? "Running..." : (step === 7 ? "‚ú® ÊÑüÂ∫î 2026 Â•ΩËøê ‚ú®" : "ÂêØÂä®ÂéüÂ≠êÈáçÁªÑ")}
                        </button>

                        <p className="mt-8 text-center text-[9px] opacity-20 tracking-widest font-mono">
                            ENCRYPTED FOR 2026 NEW YEAR
                        </p>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
