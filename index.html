<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026 èƒ½é‡é‡ç»„å®éªŒå®¤foræ­†æƒ </title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        body { background: #020617; color: white; margin: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; overflow: hidden; }
        .lab-card { 
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.7), rgba(15, 23, 42, 0.9));
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }
        .energy-orb {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(96, 165, 250, 0.15) 0%, transparent 70%);
            z-index: 0;
            pointer-events: none;
        }
        .icon-bounce { animation: bounce 2s infinite ease-in-out; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        .glow-text { text-shadow: 0 0 10px rgba(96, 165, 250, 0.5); }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useRef } = React;

        const App = () => {
            const [step, setStep] = useState(0);
            const [isRunning, setIsRunning] = useState(false);
            const [status, setStatus] = useState("READY");
            const [aiMessage, setAiMessage] = useState("");
            const audioCtxRef = useRef(null);

            const initAudio = () => {
                if (!audioCtxRef.current) {
                    audioCtxRef.current = new (window.AudioContext || window.webkitAudioContext)();
                }
                if (audioCtxRef.current.state === 'suspended') audioCtxRef.current.resume();
            };

            const playTone = (freq, type = 'sine', duration = 0.2) => {
                try {
                    initAudio();
                    const ctx = audioCtxRef.current;
                    const osc = ctx.createOscillator();
                    const gain = ctx.createGain();
                    osc.type = type;
                    osc.frequency.setValueAtTime(freq, ctx.currentTime);
                    gain.gain.setValueAtTime(0.3, ctx.currentTime);
                    gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + duration);
                    osc.connect(gain);
                    gain.connect(ctx.destination);
                    osc.start();
                    osc.stop(ctx.currentTime + duration);
                } catch (e) {}
            };

            const fetchFortune = async () => {
                const apiKey = ""; 
                try {
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({
                            contents: [{ parts: [{ text: "å†™ä¸€å¥é€ç»™å–œæ¬¢çš„å¥³ç”Ÿçš„2026ç¥ç¦è¯­ï¼Œæµªæ¼«ä¸”ç®€çŸ­ï¼Œ15å­—ä»¥å†…ã€‚" }] }],
                            systemInstruction: { parts: [{ text: "è¯­æ°”æ¸©æŸ”ã€‚ä¸å¸¦è¡¨æƒ…ç¬¦å·ã€‚" }] }
                        })
                    });
                    const data = await response.json();
                    setAiMessage(data.candidates?.[0]?.content?.parts?.[0]?.text || "æ‰€æœ‰çš„å‹åŠ›ï¼Œç»ˆå°†é‡ç»„ä¸ºå±äºä½ çš„ç’€ç’¨ã€‚");
                } catch (e) {
                    setAiMessage("2026 çš„ç’€ç’¨å·²åœ¨ä½ çš„çœ¼çœ¸ä¸­é‡ç»„ã€‚");
                }
            };

            const start = async () => {
                if (isRunning) return;
                initAudio();
                setIsRunning(true);
                setStep(0);
                setAiMessage("");
                
                const stages = ["æ‰«æåŸå­", "å‹ç¼©çƒ¦æ¼", "æ ¸å¿ƒé‡ç»„", "æå–å…‰èŠ’", "æ³¨å…¥å¸Œæœ›", "æ™¶ä½“æˆå‹", "é‡ç»„å®Œæˆ"];
                
                for (let i = 1; i <= 7; i++) {
                    setStatus(stages[i-1]);
                    if (i < 7) {
                        playTone(200 + (i * 30), 'triangle', 0.1);
                    } else {
                        playTone(880, 'sine', 0.8);
                        window.confetti({ particleCount: 150, spread: 80, origin: { y: 0.6 } });
                        fetchFortune();
                    }
                    await new Promise(r => setTimeout(r, 600));
                    setStep(i);
                }
                setIsRunning(false);
            };

            return (
                <div className="min-h-screen flex items-center justify-center p-8 bg-[#020617]">
                    <div className="energy-orb"></div>
                    
                    <div className="w-full max-w-sm lab-card rounded-[3rem] p-10 text-center relative z-10">
                        <div className="mb-12 opacity-25 text-[10px] tracking-[0.5em] font-light">
                            QUANTUM LAB 2026
                        </div>

                        {/* è§†è§‰æ ¸å¿ƒåŒºï¼šæ¢å› Emoji ä½†åŠ ä¸Šæ¼‚äº®çš„å…‰æ™• */}
                        <div className={`text-8xl mb-10 transition-all duration-1000 flex justify-center ${step === 7 ? 'scale-110 icon-bounce' : 'scale-75 opacity-20 grayscale'}`}>
                            {step === 7 ? (
                                <span style={{ filter: 'drop-shadow(0 0 20px rgba(96, 165, 250, 0.8))' }}>ğŸªˆ</span>
                            ) : (
                                <span>ğŸ¥</span>
                            )}
                        </div>

                        <h2 className={`text-xl font-bold tracking-widest mb-3 transition-colors ${step === 7 ? 'text-blue-400 glow-text' : 'text-white'}`}>
                            {step === 7 ? "2026 ç’€ç’¨ç»½æ”¾" : "2025 å‹åŠ›é‡ç»„"}
                        </h2>
                        
                        <p className="text-blue-500/80 text-[11px] mb-10 tracking-[0.2em] font-medium h-4">
                            {status}
                        </p>

                        {step === 7 && aiMessage && (
                            <div className="mb-10 p-6 rounded-3xl bg-blue-500/5 border border-blue-500/10 animate-fade-in">
                                <p className="text-[13px] text-blue-100/90 leading-relaxed italic">
                                    "{aiMessage}"
                                </p>
                            </div>
                        )}

                        <button 
                            onClick={start} 
                            disabled={isRunning}
                            className="w-full py-5 rounded-2xl bg-gradient-to-r from-blue-600 to-blue-500 text-white font-bold text-[11px] tracking-[0.3em] uppercase active:scale-95 disabled:opacity-30 shadow-lg shadow-blue-900/20 transition-all"
                        >
                            {isRunning ? "PROCESSING..." : (step === 7 ? "RE-ACTIVATE" : "START REFINERY")}
                        </button>

                        <div className="mt-10 text-[9px] opacity-20 tracking-[0.1em] font-light">
                            ENCRYPTED FOR XIN HUI
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
