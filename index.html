<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026 èƒ½é‡é‡ç»„å®éªŒå®¤</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;700&display=swap');
        background: linear-gradient(to bottom, #0f172a, #1e1b4b); margin: 0; overflow: hidden; font-family: 'JetBrains Mono', monospace; -webkit-tap-highlight-color: transparent; }
        .diamond-glow { filter: drop-shadow(0 0 30px rgba(96, 165, 250, 0.7)); animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
        .glass-panel { background: rgba(15, 23, 42, 0.9); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.08); box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); }
        .typing-effect { border-right: 2px solid #60a5fa; white-space: pre-wrap; animation: blink 0.75s step-end infinite; }
        @keyframes blink { from, to { border-color: transparent } 50% { border-color: #60a5fa } }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;

        const App = () => {
            const [step, setStep] = useState(0);
            const [isRunning, setIsRunning] = useState(false);
            const [progress, setProgress] = useState(0);
            const [status, setStatus] = useState("SYSTEM READY");
            const [aiMessage, setAiMessage] = useState("");
            const [isAiLoading, setIsAiLoading] = useState(false);
            const apiKey = ""; 

            const fetchGeminiFortune = async () => {
                setIsAiLoading(true);
                // é¢„è®¾ç¥ç¦è¯­ï¼Œé˜²æ­¢ API å¤±è´¥
                const fallbackMessages = [
                    "æ£€æµ‹åˆ° 2026 çš„å¹¸è¿æ³¢æ®µå·²å®Œå…¨è¦†ç›–ä½ çš„åæ ‡ã€‚",
                    "2026ï¼šæ‰€æœ‰çš„åšæŒï¼Œç»ˆå°†é‡ç»„æˆæœ€ç’€ç’¨çš„æƒŠå–œã€‚",
                    "é‡å­æ„Ÿåº”æ˜¾ç¤ºï¼Œä½ å³å°†å¼€å¯ä¸€æ®µæå…¶é—ªè€€çš„æ–°æ—…ç¨‹ã€‚",
                    "æ–°çš„ä¸€å¹´ï¼Œå¸Œæœ›ä½ æˆ‘éƒ½èƒ½å¹¸ç¦ã€‚"
                ];
                
                const systemPrompt = "ä½ æ˜¯ä¸€ä¸ªæç®€ä¸»ä¹‰çš„AIåŠ©æ‰‹ã€‚ç”Ÿæˆä¸€å¥å…³äº2026å¹´æ–°å¹´å¥½è¿çš„å¯„è¯­ã€‚è¦æ±‚ï¼šæç®€ã€å……æ»¡æµªæ¼«æ„Ÿã€15å­—ä»¥å†…ã€‚ä¸è¦ä½¿ç”¨è¡¨æƒ…ç¬¦å·ã€‚";
                const userQuery = "ä¸ºæˆ‘çš„æœ‹å‹ç”Ÿæˆä¸€æ¡ 2026 å¹´æ–°å¹´å¥½è¿é¢„æµ‹ã€‚";

                try {
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({
                            contents: [{ parts: [{ text: userQuery }] }],
                            systemInstruction: { parts: [{ text: systemPrompt }] }
                        })
                    });
                    
                    if (!response.ok) throw new Error();
                    const data = await response.json();
                    const text = data.candidates?.[0]?.content?.parts?.[0]?.text;
                    setAiMessage(text || fallbackMessages[Math.floor(Math.random() * fallbackMessages.length)]);
                } catch (e) {
                    // API å¤±è´¥æ—¶æ˜¾ç¤ºæœ¬åœ°é¢„è®¾
                    setAiMessage(fallbackMessages[Math.floor(Math.random() * fallbackMessages.length)]);
                } finally {
                    setIsAiLoading(false);
                }
            };

                   for (let i = 1; i <= 7; i++) {
             setStatus(stages[i-1]);
    
            // æ¯æ¬¡çŠ¶æ€æ”¹å˜æ—¶ï¼Œå“ä¸€å£°
            // å¦‚æœæ˜¯æœ€åä¸€æ­¥(é’»çŸ³/ç¬›å­å‡ºç°)ï¼Œå“ä¸€ä¸ªé«˜éŸ³ï¼›å¹³æ—¶å“ä¸ªä½éŸ³
            if (i === 7) {
                   playTone(880, 'sine', 0.8); // è¿™æ˜¯ä¸€ä¸ªæ¸…è„†çš„é«˜éŸ³ A5
            } else {
                    playTone(220 + (i * 50), 'triangle', 0.1); // é€æ¸å‡é«˜çš„ä½éŸ³
            }

            await new Promise(r => setTimeout(r, 600));
            // ... åé¢çš„ä»£ç ä¿æŒä¸å˜
            }
            const startRefinery = async () => {
                if (isRunning) return;
                setIsRunning(true);
                setStep(0);
                setProgress(0);
                setAiMessage("");
                
                const stages = ["SCANNING", "PRESSURIZING", "RECONFIGURING", "PURIFYING", "STABILIZING", "CRYSTALLIZING", "COMPLETED"];
                for (let i = 1; i <= 7; i++) {
                    setStatus(stages[i-1]);
                    await new Promise(r => setTimeout(r, 600));
                    setStep(i);
                    setProgress((i / 7) * 100);
                    if (i === 7) {
                        window.confetti({ particleCount: 150, spread: 80, origin: { y: 0.6 }, colors: ['#60a5fa', '#ffffff'] });
                        fetchGeminiFortune();
                    }
                }
                setIsRunning(false);
            };

            return (
                <div className="min-h-screen flex items-center justify-center p-6 bg-[#030712]">
                    <div className="w-full max-w-sm glass-panel rounded-[3rem] p-8 sm:p-10 relative">
                        <div className="flex justify-between items-start mb-10">
                            <div>
                                <h1 className="text-blue-500 font-bold text-[10px] tracking-[0.3em] mb-1 uppercase">Lab Status</h1>
                                <div className="flex items-center space-x-2">
                                    <div className={`w-1.5 h-1.5 rounded-full ${isRunning ? 'bg-blue-500 animate-ping' : 'bg-green-500'}`}></div>
                                    <span className="text-[9px] opacity-40 font-mono tracking-widest">{status}</span>
                                </div>
                            </div>
                            <div className="text-[20px] opacity-20">âš¡</div>
                        </div>

                        <div className="bg-white/[0.02] rounded-[2.5rem] py-12 mb-8 border border-white/5 flex flex-col items-center justify-center relative">
                            <div className={`text-7xl mb-6 transition-all duration-1000 ${step === 7 ? 'diamond-glow scale-110' : 'scale-75 opacity-20 grayscale'}`}>
                                 {step === 7 ? 'ğŸ’': 'ğŸªˆ'}
                                     
                            </div>
                            <h2 className="text-lg font-bold tracking-[0.1em] text-white">
                                {step === 7 ? "2026 çš„ç’€ç’¨" : "2025 çš„çç¢"}
                            </h2>
                            
                            {step === 7 && (
                                <div className="mt-8 px-6 w-full text-center min-h-[4rem] flex items-center justify-center">
                                    <p className="text-sm text-blue-100 font-light italic leading-relaxed typing-effect">
                                        {isAiLoading ? "æ­£åœ¨æ”¶é›† 2026 å¥½è¿..." : aiMessage}
                                    </p>
                                </div>
                            )}
                        </div>

                        <div className="mb-10 px-2">
                            <div className="flex justify-between mb-3 text-[9px] font-mono tracking-widest opacity-40">
                                <span>RECONSTRUCTION</span>
                                <span>{Math.round(progress)}%</span>
                            </div>
                            <div className="h-0.5 bg-white/5 rounded-full overflow-hidden">
                                <div className="h-full bg-blue-500 transition-all duration-500" style={{ width: `${progress}%` }}></div>
                            </div>
                        </div>

                        <div className="space-y-3">
                            <button 
                                onClick={startRefinery} 
                                disabled={isRunning}
                                className="w-full py-5 rounded-2xl bg-white text-black font-bold text-[10px] uppercase tracking-[0.3em] transition-all active:scale-[0.98]"
                            >
                                {isRunning ? "Processing..." : (step === 7 ? "âœ¨ å†æ¬¡æ„Ÿåº”å¥½è¿ âœ¨" : "å¯åŠ¨åŸå­é‡ç»„")}
                            </button>
                            
                            {step === 7 && !isRunning && (
                                <button 
                                    onClick={fetchGeminiFortune}
                                    disabled={isAiLoading}
                                    className="w-full py-3 rounded-xl border border-white/10 text-[9px] text-white/40 uppercase tracking-[0.2em] hover:bg-white/5"
                                >
                                    {isAiLoading ? "æ„Ÿåº”ä¸­..." : "é‡æ–°æ•æ‰è„‰å†²"}
                                </button>
                            )}
                        </div>

                        <p className="mt-8 text-center text-[8px] opacity-10 tracking-[0.4em] font-mono">
                            ENCRYPTED FOR 2026
                        </p>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
